<!DOCTYPE html>
<!-- saved from url=(0161)https://neerc.ifmo.ru/wiki/index.php?title=%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D1%81_%D0%BF%D1%80%D0%BE%D0%BF%D1%83%D1%81%D0%BA%D0%B0%D0%BC%D0%B8&printable=yes -->
<html lang="ru" dir="ltr" class="client-js"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Список с пропусками</title>

<meta name="generator" content="MediaWiki 1.18.1">
<meta name="robots" content="noindex,follow">
<link rel="alternate" type="application/x-wiki" title="Править" href="https://neerc.ifmo.ru/wiki/index.php?title=%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D1%81_%D0%BF%D1%80%D0%BE%D0%BF%D1%83%D1%81%D0%BA%D0%B0%D0%BC%D0%B8&amp;action=edit">
<link rel="edit" title="Править" href="https://neerc.ifmo.ru/wiki/index.php?title=%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D1%81_%D0%BF%D1%80%D0%BE%D0%BF%D1%83%D1%81%D0%BA%D0%B0%D0%BC%D0%B8&amp;action=edit">
<link rel="shortcut icon" href="https://neerc.ifmo.ru/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="https://neerc.ifmo.ru/wiki/opensearch_desc.php" title="Викиконспекты (ru)">
<link rel="EditURI" type="application/rsd+xml" href="http://neerc.ifmo.ru/wiki/api.php?action=rsd">
<link rel="alternate" type="application/atom+xml" title="Викиконспекты — Atom-лента" href="https://neerc.ifmo.ru/wiki/index.php?title=%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:RecentChanges&amp;feed=atom">
<link rel="stylesheet" href="./SkipListAlghoritm_files/load.php">
<style type="text/css" media="all">.mw-collapsible-toggle{float:right} li .mw-collapsible-toggle{float:none} .mw-collapsible-toggle-li{list-style:none}

/* cache key: wikidb:resourceloader:filter:minify-css:4:4250852ed2349a0d4d0fc6509a3e7d4c */
</style><style type="text/css" media="all">.js-messagebox{margin:1em 5%;padding:0.5em 2.5%;border:1px solid #ccc;background-color:#fcfcfc;font-size:0.8em}.js-messagebox .js-messagebox-group{margin:1px;padding:0.5em 2.5%;border-bottom:1px solid #ddd}.js-messagebox .js-messagebox-group:last-child{border-bottom:thin none transparent}

/* cache key: wikidb:resourceloader:filter:minify-css:4:8b08bdc91c52a9ffba396dccfb5b473c */
</style><meta name="ResourceLoaderDynamicStyles" content="">
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}a.new,#quickbar a.new{color:#ba0000}

/* cache key: wikidb:resourceloader:filter:minify-css:4:c88e2bcd56513749bec09a7e29cb3ffa */
</style>
<script src="./SkipListAlghoritm_files/load(1).php"></script><script src="./SkipListAlghoritm_files/load(2).php"></script>
<script>if(window.mw){
	mw.config.set({"wgCanonicalNamespace": "", "wgCanonicalSpecialPageName": false, "wgNamespaceNumber": 0, "wgPageName": "Список_с_пропусками", "wgTitle": "Список с пропусками", "wgCurRevisionId": 48133, "wgArticleId": 2397, "wgIsArticle": true, "wgAction": "view", "wgUserName": null, "wgUserGroups": ["*"], "wgCategories": ["Структуры данных"], "wgBreakFrames": false, "wgRestrictionEdit": [], "wgRestrictionMove": []});
}
</script><script>if(window.mw){
	mw.loader.load(["mediawiki.page.startup"]);
}
</script><script type="text/javascript" src="./SkipListAlghoritm_files/load(3).php"></script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/wiki/skins/vector/csshover.min.htc")}</style><![endif]--><style type="text/css">/* This is not a zero-length file! */</style><style type="text/css">/* This is not a zero-length file! */</style></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Список_с_пропусками action-view skin-vector">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;" class="js-messagebox"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading">Список с пропусками</h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
								<!-- tagline -->
				
				<!-- /tagline -->
								<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				
				<!-- /jumpto -->
								<!-- bodycontent -->
				<div lang="ru" dir="ltr" class="mw-content-ltr"><p><b>Список с пропусками</b> (англ. <i>skip list</i>) — поисковая структура данных, реализующая интерфейс упорядоченного множества, позволяет производить операции поиска, добавления и удаления элемента в списке за достаточно малое время.
</p><p>Поиск элемента в списке производится за <img class="tex" style="vertical-align:-4px" src="./SkipListAlghoritm_files/e5d69837d8df6671592b2989524be811.png" alt="O(\log(n))">; добавление и удаление элемета происходит за то же время, что и поиск, однако эти операции могут замедлить поиск в структуре.
</p><p>Такая производительность достигается за счёт добавления новых уровней. При этом нижним уровнем является исходный список, а каждый следующий уровень - список, содержащий часть элементов предыдущего уровня со ссылками на эти элементы.
</p>
<table id="toc" class="toc"><tbody><tr><td><div id="toctitle"><h2>Содержание</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.D0.9F.D0.BE.D1.81.D1.82.D1.80.D0.BE.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">1</span> <span class="toctext">Построение</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#.D0.9E.D0.BF.D0.B5.D1.80.D0.B0.D1.86.D0.B8.D0.B8_.D0.BD.D0.B0.D0.B4_.D1.81.D1.82.D1.80.D1.83.D0.BA.D1.82.D1.83.D1.80.D0.BE.D0.B9"><span class="tocnumber">2</span> <span class="toctext">Операции над структурой</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#.D0.9F.D0.BE.D0.B8.D1.81.D0.BA_.D1.8D.D0.BB.D0.B5.D0.BC.D0.B5.D0.BD.D1.82.D0.B0"><span class="tocnumber">2.1</span> <span class="toctext">Поиск элемента</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#.D0.92.D1.81.D1.82.D0.B0.D0.B2.D0.BA.D0.B0_.D1.8D.D0.BB.D0.B5.D0.BC.D0.B5.D0.BD.D1.82.D0.B0"><span class="tocnumber">2.2</span> <span class="toctext">Вставка элемента</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#.D0.A3.D0.B4.D0.B0.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D1.8D.D0.BB.D0.B5.D0.BC.D0.B5.D0.BD.D1.82.D0.B0"><span class="tocnumber">2.3</span> <span class="toctext">Удаление элемента</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#.D0.9F.D1.81.D0.B5.D0.B2.D0.B4.D0.BE.D0.BA.D0.BE.D0.B4"><span class="tocnumber">3</span> <span class="toctext">Псевдокод</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#.D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">4</span> <span class="toctext">Применение</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#.D0.A1.D0.BC._.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"><span class="tocnumber">5</span> <span class="toctext">См. также</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#.D0.98.D1.81.D1.82.D0.BE.D1.87.D0.BD.D0.B8.D0.BA.D0.B8_.D0.B8.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D0.B8"><span class="tocnumber">6</span> <span class="toctext">Источники информации</span></a></li>
</ul>
</td></tr></tbody></table>
<h2> <span class="mw-headline" id=".D0.9F.D0.BE.D1.81.D1.82.D1.80.D0.BE.D0.B5.D0.BD.D0.B8.D0.B5">Построение</span></h2>
<p>Список с пропусками строится на основе существующего односвязного отсортированного списка.
</p><p><a href="https://neerc.ifmo.ru/wiki/index.php?title=%D0%A4%D0%B0%D0%B9%D0%BB:SimpleList.png" class="image"><img alt="SimpleList.png" src="./SkipListAlghoritm_files/SimpleList.png" width="552" height="80"></a>
</p><p>Добавив дополнительные уровни, каждый из которых представляет предыдущий уровень без нечетных элементов, мы получим возможность осуществлять поиск, вставку и удаление элементов подобно операциям с двоичным деревом поиска. Соответственно, асимптотика этих операций будет составлять <img class="tex" style="vertical-align:-4px" src="./SkipListAlghoritm_files/e5d69837d8df6671592b2989524be811.png" alt="O(\log(n))">.
</p><p><a href="https://neerc.ifmo.ru/wiki/index.php?title=%D0%A4%D0%B0%D0%B9%D0%BB:SkipList.png" class="image"><img alt="SkipList.png" src="./SkipListAlghoritm_files/SkipList.png" width="553" height="161"></a>
</p>
<h2> <span class="mw-headline" id=".D0.9E.D0.BF.D0.B5.D1.80.D0.B0.D1.86.D0.B8.D0.B8_.D0.BD.D0.B0.D0.B4_.D1.81.D1.82.D1.80.D1.83.D0.BA.D1.82.D1.83.D1.80.D0.BE.D0.B9">Операции над структурой</span></h2>
<h3> <span class="mw-headline" id=".D0.9F.D0.BE.D0.B8.D1.81.D0.BA_.D1.8D.D0.BB.D0.B5.D0.BC.D0.B5.D0.BD.D1.82.D0.B0">Поиск элемента</span></h3>
<p>Допустим, что в нашем списке с пропусками существуют <img class="tex" style="vertical-align:0px" src="./SkipListAlghoritm_files/20c101cd7827a8579eb4bb6c144d23f1.png" alt="k"> уровней, при этом первым уровнем (<img class="tex" style="vertical-align:-2px" src="./SkipListAlghoritm_files/51537e6d38b69abe8afa8d4d1388bba7.png" alt="L_1">) будет исходный список.
</p><p>В таком случае алгоритм поиска в этой структуре будет представлять из себя следующие операции:
</p>
<ol><li> Начинаем поиск элемента в верхнем списке (<img class="tex" style="vertical-align:-2px" src="./SkipListAlghoritm_files/10a06f72ccf1cec878506dcceda4497b.png" alt="L_k">), рассмотрим первый элемент
</li><li> Переходить к следующему элементу списка, пока значение в следующей ячейке меньше или равно ключу
</li><li> Переместиться на один уровень вниз и перейти к пункту 2. Если рассматриваемый элемент находится на нижнем уровне - выйти из поиска
</li></ol>
<p>Пример поиска числа <img class="tex" style="vertical-align:0px" src="./SkipListAlghoritm_files/70ecf76fb3cf231afed5221146f79dbc.png" alt="8"> в списке из описания:
</p><p><a href="https://neerc.ifmo.ru/wiki/index.php?title=%D0%A4%D0%B0%D0%B9%D0%BB:SkipListSearch.png" class="image"><img alt="SkipListSearch.png" src="./SkipListAlghoritm_files/SkipListSearch.png" width="553" height="161"></a>
</p><p>Рассмотрим время работы для списка с двумя уровнями.
Тогда время работы алгоритма поиска будет зависеть от количества элементов на уровне <img class="tex" style="vertical-align:-2px" src="./SkipListAlghoritm_files/bc9d3ec733a06788f0909acbfbd1d9eb.png" alt="L_2">. Представим, что на этот уровень у нас случайным образом попало несколько элементов. Следовательно в худшем случае поиска мы получим следующую оценку на время работы:
</p><p><img class="tex" style="vertical-align:-15px" src="./SkipListAlghoritm_files/5b0547cd99cc40d5ebed252fa82bfd4b.png" alt="\approx \vert L_2\vert  + \dfrac{\vert L_1\vert }{\vert L_2\vert } = \vert L_2\vert  + \dfrac{n}{\vert L_2\vert }">
</p><p>Минимизируя, мы получаем, что <img class="tex" style="vertical-align:-4px" src="./SkipListAlghoritm_files/927ac75f8c4d0997ef0a1491a740a9fe.png" alt="\vert L_2 \vert ^ 2 = n">
</p><p>В итоге время за которое мы найдем элемент в списке с пропусками с двумя уровнями будет равняться:
</p><p><img class="tex" style="vertical-align:-16px" src="./SkipListAlghoritm_files/ddb166f7808219938b3c077d5f9fbd74.png" alt="\sqrt{n}  + \dfrac{n}{\sqrt{n}} = 2 \sqrt{n}">
</p><p>Также можно убедиться, что список с пропусками, имеющий <img class="tex" style="vertical-align:0px" src="./SkipListAlghoritm_files/20c101cd7827a8579eb4bb6c144d23f1.png" alt="k"> уровней, будет лучше всего работать с <img class="tex" style="vertical-align:-5px" src="./SkipListAlghoritm_files/225baeba294b5a6d8b84f0630451abb4.png" alt="\sqrt[k]{n}"> элементами на уровне; время работы такого списка будет равно <img class="tex" style="vertical-align:-5px" src="./SkipListAlghoritm_files/0876766716190f3fba224c8ee36492c8.png" alt="k \sqrt[k]{n}">.
Для <img class="tex" style="vertical-align:-4px" src="./SkipListAlghoritm_files/b13eae63ae63595b29c91725ce96c0e2.png" alt="\log_2{n}"> уровней же время работы составит <img class="tex" style="vertical-align:-5px" src="./SkipListAlghoritm_files/100598ec1944dacb6404c80e4e12f77a.png" alt="\log_2{n} \cdot \sqrt[\log_2{n}]{n} = n ^ {\frac{1}{log_2{n}}} \cdot \log_2{n} = n ^ {\log_n{2}} \cdot \log_2{n} = 2\log_2{n}">
</p>
<h3> <span class="mw-headline" id=".D0.92.D1.81.D1.82.D0.B0.D0.B2.D0.BA.D0.B0_.D1.8D.D0.BB.D0.B5.D0.BC.D0.B5.D0.BD.D1.82.D0.B0">Вставка элемента</span></h3>
<p>Для вставки элемента в список с пропусками, нам необходимо выполнить следующие шаги:
</p>
<ol><li> Найти с помощью алгоритма поиска позицию, куда нам надо вставить этот элемент
</li><li> Вставить наш элемент в нижний уровень списка с пропусками
</li><li> «Подбросить монетку» и в зависимости от результата протолкнуть элемент на уровень выше
</li><li> Повторять предыдущий шаг до тех пор, пока у нас «подброс монетки» дает положительный результат
</li></ol>
<p>Таким образом, если использовать честную монету, то математическое ожидание количества элементов на втором уровне равняется <img class="tex" style="vertical-align:-11px" src="./SkipListAlghoritm_files/28b3d57fbfdef489be59bf5743247162.png" alt="\dfrac{n}{2}">, на третьем уровне <img class="tex" style="vertical-align:-12px" src="./SkipListAlghoritm_files/c83d55ca894a4fc69ed2b15984705ba7.png" alt="\dfrac{n}{4}"> и т.д. На уровне <img class="tex" style="vertical-align:-3px" src="./SkipListAlghoritm_files/49403c09b154647c07ac60b5b6963b2c.png" alt="\log{n}"> у нас окажется один элемент. Ну и соответственно вероятности попасть элементу на второй уровень — это <img class="tex" style="vertical-align:-11px" src="./SkipListAlghoritm_files/f89e50b83425f1868bdd4cc9aa8e2c25.png" alt="\dfrac{1}{2}">, на третий <img class="tex" style="vertical-align:-12px" src="./SkipListAlghoritm_files/7ef221d1a837e0cfb2d381f4db24b25c.png" alt="\dfrac{1}{4}"> и т.д. Вероятность попасть на уровень <img class="tex" style="vertical-align:-3px" src="./SkipListAlghoritm_files/49403c09b154647c07ac60b5b6963b2c.png" alt="\log{n}"> равна <img class="tex" style="vertical-align:-11px" src="./SkipListAlghoritm_files/51c963ec307507f7989a27474667053e.png" alt="\dfrac{1}{n}">.
</p><p>Используя монетку с распределением отличным от <img class="tex" style="vertical-align:-11px" src="./SkipListAlghoritm_files/fb8b41f7c44a946a5b40aedebe41564a.png" alt="\{\dfrac{1}{2}">, <img class="tex" style="vertical-align:-11px" src="./SkipListAlghoritm_files/ea085e66ab4f59de33ce2e3cab1a85a9.png" alt="\dfrac{1}{2}\}">, можно влиять на количество элементов на верхних уровнях. Так, например, при использовании монеты с распределением <img class="tex" style="vertical-align:-4px" src="./SkipListAlghoritm_files/91795db6801155ea74f73f0a42447fbe.png" alt="\{p,q\}">}, математическое ожидание количества элементов на уровне <img class="tex" style="vertical-align:0px" src="./SkipListAlghoritm_files/b8234e838070f2c496d73147d4a05428.png" alt="l"> равно <img class="tex" style="vertical-align:-4px" src="./SkipListAlghoritm_files/87f27fce96cdac63a47c4456391f5bd1.png" alt="n q^l">, каждый уровень будет составлять <img class="tex" style="vertical-align:-3px" src="./SkipListAlghoritm_files/472b12a9151c7a06d27bb4ff160d00b2.png" alt="q"> от предыдущего; время поиска будет равно <img class="tex" style="vertical-align:-14px" src="./SkipListAlghoritm_files/fd728e980bd64f2b0e71087bc78ae242.png" alt="O(\dfrac{k}{q} + nq^k)">. Соответственно при честной монетке и <img class="tex" style="vertical-align:-4px" src="./SkipListAlghoritm_files/0d61f2c6f345f3c9e23af298d03cc6d9.png" alt="\log(n)"> уровней получаем оценку, полученную ранее.
Для крайних распределений:
</p>
<ul><li> <img class="tex" style="vertical-align:-4px" src="./SkipListAlghoritm_files/1a5af4684bf2b7640b7a877c5e602ff0.png" alt="\{0, 1\}"> — <img class="tex" style="vertical-align:-4px" src="./SkipListAlghoritm_files/c5d8887396ff19c2b36173ee10a1b7e9.png" alt="O(k+n)">
</li><li> <img class="tex" style="vertical-align:-4px" src="./SkipListAlghoritm_files/d09788ef80c96b3db462f71d8bd212aa.png" alt="\{1, 0\}"> — <img class="tex" style="vertical-align:0px" src="./SkipListAlghoritm_files/ac803afce6595c12ecf01d60c80d35f5.png" alt="\infty"> (если разрешить добавление новых уровней при проталкивании элемента после броска монетки; иначе <img class="tex" style="vertical-align:-4px" src="./SkipListAlghoritm_files/99688001357bca60bfc039c548a51202.png" alt="O(n)">)
</li></ul>
<h3> <span class="mw-headline" id=".D0.A3.D0.B4.D0.B0.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D1.8D.D0.BB.D0.B5.D0.BC.D0.B5.D0.BD.D1.82.D0.B0">Удаление элемента</span></h3>
<p>Алгоритм удаления достаточно тривиален. 
</p>
<ol><li> Найти удаляемый элемент
</li><li> Удалить его со всех уровней
</li></ol>
<h2> <span class="mw-headline" id=".D0.9F.D1.81.D0.B5.D0.B2.D0.B4.D0.BE.D0.BA.D0.BE.D0.B4">Псевдокод</span></h2>
<p>Наглядный, но не очень эффективный по памяти вариант списка с пропусками.
</p><p>В узлах списка хранятся:
</p>
<ul><li> <img class="tex" style="vertical-align:0px" src="./SkipListAlghoritm_files/2c73bcf42cad27a43439e557386cc068.png" alt="next"> — следующий узел
</li><li> <img class="tex" style="vertical-align:0px" src="./SkipListAlghoritm_files/2dd70ef935474e17d1d11dde59763cbf.png" alt="down"> — тот же узел на следующем уровне
</li><li> <img class="tex" style="vertical-align:0px" src="./SkipListAlghoritm_files/43bdea68d735271c8089135a634265e6.png" alt="data"> — данные типа T
</li><li> <img class="tex" style="vertical-align:-3px" src="./SkipListAlghoritm_files/9a3e15758dd1994fe5c78750deebcaf6.png" alt="key">  — ключ типа K
</li></ul>
<p>Конструктор
<code>
</code></p><code>
<pre>   <b>list</b> skip_list (<b>list</b> l):
       <b>list</b> lvl = build_lvl(l)                 <font color="darkgreen">// Здесь происходит построение первого уровня</font>
       <b>while</b> lvl.size() &gt; 2 
           lvl = build_lvl (lvl)               <font color="darkgreen">// Добавление следующих уровней; последний содержит два элемента</font>
       <b>return</b> t 
</pre>
<pre>   <b>list</b> build_lvl (<b>list</b> lvl)                   <font color="darkgreen">// Отсеивание нечётных элементов</font>
       <b>list</b> next_lvl 
       <b>node</b> i = lvl.head()                     <font color="darkgreen">// Перебор всех элементов lvl</font>
       <b>while</b> (i&nbsp;!= <i>null</i>) <b>and</b> (i&nbsp;!= lvl.tail())
           next_lvl.push_back(node(i.key, i))  <font color="darkgreen">// Добавление чётного элемента;</font>
           i = i.next.next                     <font color="darkgreen">// он содержит ключ и ссылку на предыдущий уровень</font>
       <b>return</b> next_lvl 
</pre>
</code><p><code></code>
Поиск элемента по ключу:
<code>
</code></p><code>
<pre>   <b>T</b> find (<b>list</b> skip_list, <b>K</b> key)
       <b>node</b> res 
       <b>for</b> (res = skip_list.head; res.ref&nbsp;!= <i>null</i>; res = res.ref)
                                            <font color="darkgreen">// Cпускаемся на шаг вниз, если можем (п. 3)</font>
           <b>while</b> res.key &lt;= key             <font color="darkgreen">// Переходим к следующему элементу (п. 2)</font>
               res = res.next() 
       <b>return</b> res.data 
</pre>
</code><p><code></code>
Вставка:
<code>
</code></p><code>
<pre>   <b>node</b> insert (<b>node</b> i, <b>K</b> key, <b>T</b> data)
       <b>while</b> i.key &lt;= key                   <font color="darkgreen">// Ищем подходящее место</font>
           i = i.next() 
       <b>node</b> tmp = <i>null</i>                      <font color="darkgreen">// Для записи в поле down</font>
       <b>if</b> i.ref&nbsp;!= <i>null</i>                     <font color="darkgreen">// Мы не на нижнем уровне</font>
           tmp = insert (i.ref, key)        <font color="darkgreen">// Рекурсивный вызов на более низком уровне</font>
           <b>if</b> tmp == <i>null</i>                   <font color="darkgreen">// Проверка броска монетки</font>
               <b>return</b> <i>null</i> 
       i.next = <b>new</b> node (i.next, tmp, data, key)  <font color="darkgreen">//Непосредственно вставка</font>
       <b>if</b> random(0,1) &gt; 0.5                 <font color="darkgreen">// Бросок монетки</font>
           return i.next                    <font color="darkgreen">// Нужно передать новый элемент для вставки выше</font>
       <b>else</b>
           return <i>null</i> 
</pre>
<pre>   <b>void</b> insert (<b>list</b> skip_list, <b>K</b> key, <b>T</b> data) <font color="darkgreen">// Обёрточка</font>
       insert(skip_list.head, key, data) 
</pre>
</code><p><code></code>
Удаление:
<code>
</code></p><code>
<pre>   <b>void</b> erase (<b>node</b> i, <b>K</b> key)
       <b>if</b> i == <i>null</i>
           <b>return</b> 
       <b>while</b> i.key &lt;= key                   <font color="darkgreen">// Ищем элемент</font>
           i = i.next() 
       erase(i.ref, key)                    <font color="darkgreen">// Удаляем с нижних уровней</font>
       <b>if</b> i.key == key                      <font color="darkgreen">// Если ключ совпадает</font>
           <b>delete</b>(i)                        <font color="darkgreen">// удаляем и с этого уровня</font>
</pre>
<pre>   <b>void</b> erase (<b>list</b> skip_list, <b>K</b> key) <font color="darkgreen">// Обёрточка</font>
       erase(skip_list.head, key) 
</pre>
</code><p><code></code>
</p>
<h2> <span class="mw-headline" id=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5">Применение</span></h2>
<ul><li> Базы данных
</li><li> Распределённые вычисления и p2p
</li><li> Масштабируемые параллельные приоритетные очереди и словари
</li></ul>
<p>В вычислительной геометрии широко применяются структуры на основе списка с пропусками.
</p>
<h2> <span class="mw-headline" id=".D0.A1.D0.BC._.D1.82.D0.B0.D0.BA.D0.B6.D0.B5">См. также</span></h2>
<ul><li><a href="https://neerc.ifmo.ru/wiki/index.php?title=%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA" title="Список">Список</a>
</li><li><a href="https://neerc.ifmo.ru/wiki/index.php?title=%D0%A0%D0%B0%D0%BD%D0%B4%D0%BE%D0%BC%D0%B8%D0%B7%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%BE%D0%B5_%D0%B1%D0%B8%D0%BD%D0%B0%D1%80%D0%BD%D0%BE%D0%B5_%D0%B4%D0%B5%D1%80%D0%B5%D0%B2%D0%BE_%D0%BF%D0%BE%D0%B8%D1%81%D0%BA%D0%B0" title="Рандомизированное бинарное дерево поиска">Рандомизированное бинарное дерево поиска</a>
</li><li><a href="https://neerc.ifmo.ru/wiki/index.php?title=%D0%9F%D0%BE%D0%B8%D1%81%D0%BA%D0%BE%D0%B2%D1%8B%D0%B5_%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D1%8B_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85" title="Поисковые структуры данных">Поисковые структуры данных</a>
</li></ul>
<p>Структуры на основе списка с пропусками:
</p>
<ul><li><a href="https://neerc.ifmo.ru/wiki/index.php?title=Skip_quadtree:_%D0%BE%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5,_%D0%B2%D1%80%D0%B5%D0%BC%D1%8F_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B" title="Skip quadtree: определение, время работы">Skip quadtree: определение, время работы</a>
</li><li><a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/Skip_graph">Википедия — Skip graph(En)</a>
</li></ul>
<h2> <span class="mw-headline" id=".D0.98.D1.81.D1.82.D0.BE.D1.87.D0.BD.D0.B8.D0.BA.D0.B8_.D0.B8.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D0.B8">Источники информации</span></h2>
<ul><li><a rel="nofollow" class="external text" href="http://habrahabr.ru/post/111913/">Хабрахабр — Списки с пропусками</a>
</li><li><a rel="nofollow" class="external text" href="http://ru.wikipedia.org/wiki/%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D1%81_%D0%BF%D1%80%D0%BE%D0%BF%D1%83%D1%81%D0%BA%D0%B0%D0%BC%D0%B8">Википедия — списки с пропусками(Ru)</a>
</li><li><a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/Skip_list">Википедия — списки с пропусками(En)</a>
</li><li><a rel="nofollow" class="external text" href="http://bit.ly/LiNe8M">Курс kiev-clrs — Списки с пропусками</a>
</li><li><a rel="nofollow" class="external text" href="http://igoro.com/archive/skip-lists-are-fascinating/">igoro.com — Skip lists are fascinating</a>
</li></ul>

<!-- 
NewPP limit report
Preprocessor node count: 427/1000000
Post-expand include size: 18/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key wikidb:pcache:idhash:2397-0!*!0!!ru!2!* and timestamp 20170429225606 -->
</div>				<!-- /bodycontent -->
								<!-- printfooter -->
				

<!-- /TOOLBOX -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->
			</div>
		<!-- /panel -->
		<!-- footer -->
		
		<!-- /footer -->
		<!-- fixalpha -->
		
<!-- Served in 0.055 secs. -->
	

</body></html>